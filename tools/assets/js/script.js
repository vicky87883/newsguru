document.getElementById('imageInput').addEventListener('change',function(event){const files=event.target.files;if(files.length>0){const loader=document.getElementById('loader');const progressContainer=document.getElementById('progressContainer');const progressBar=document.getElementById('progressBar');const imagesContainer=document.getElementById('imagesContainer');imagesContainer.innerHTML='';loader.style.display='block';progressContainer.style.display='block';progressBar.style.width='0%';const quality=0.5;let processedCount=0;Array.from(files).forEach((file,index)=>{const reader=new FileReader();reader.onload=function(e){const img=new Image();img.onload=function(){const canvas=document.createElement('canvas');canvas.width=img.width;canvas.height=img.height;const ctx=canvas.getContext('2d');ctx.drawImage(img,0,0);canvas.toBlob(function(blob){const compressedUrl=URL.createObjectURL(blob);const compressedImage=new Image();compressedImage.onload=function(){const imageWrapper=document.createElement('div');imageWrapper.classList.add('image-wrapper');imageWrapper.appendChild(compressedImage);const originalResolution=document.createElement('div');originalResolution.classList.add('info');originalResolution.textContent=`Original Resolution:${img.width}x${img.height}`;const originalSize=document.createElement('div');originalSize.classList.add('info');originalSize.textContent=`Original Size:${(file.size/1024).toFixed(2)}KB`;const compressedResolution=document.createElement('div');compressedResolution.classList.add('info');compressedResolution.textContent=`Compressed Resolution:${compressedImage.width}x${compressedImage.height}`;const compressedSize=document.createElement('div');compressedSize.classList.add('info');compressedSize.textContent=`Compressed Size:${(blob.size/1024).toFixed(2)}KB`;const downloadLink=document.createElement('a');downloadLink.href=compressedUrl;downloadLink.download=`compressed_image_${index}.jpg`;downloadLink.textContent='Download Compressed Image';downloadLink.classList.add('download-link');imageWrapper.appendChild(originalResolution);imageWrapper.appendChild(originalSize);imageWrapper.appendChild(compressedResolution);imageWrapper.appendChild(compressedSize);imageWrapper.appendChild(downloadLink);imagesContainer.appendChild(imageWrapper);processedCount++;progressBar.style.width=`${(processedCount/files.length)*100}%`;if(processedCount===files.length){loader.style.display='none';}};compressedImage.src=compressedUrl;},'image/jpeg',quality);};img.src=e.target.result;};reader.readAsDataURL(file);});}});
